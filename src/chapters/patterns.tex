\section{Partial input files}
\label{chap:patterns-partial-input-files}

When a Moose model is defined as an
\href{https://mooseframework.inl.gov/application_usage/input_syntax.html}{‘input
    file’} (usually with the file extension ‘*.i’), the size of such an input file
can quickly grow to several hundred lines, even without the model geometry.
Editing and troubleshooting becomes correspondingly confusing. Moose therefore
also supports ‘partial input files’, where other input files can be called up
from a ‘central’ input file. For example, the material parameters or variables
with groups of geometrical objects could be maintained in a separate file.

The recommented option is to use the \codeword{!include} keyword within the
input file. This option is shown in \autoref{patterns-include}. Please note,
that the neither path not filename are allowed to contain a newline character,
\codeword{#} character, or \codeword{[} character.

\begin{lstlisting}[language=perl, caption={Include anpther input file},label={patterns-include}]
!include "path/to/file.i"
\end{lstlisting}

The alternative and not recommented option is to call a Moose app with several
input files as arguments. These input files are interpreted by simply
concatenating them. This functionality was included in Moose for test purposes,
but is not suitable for productive models, as this call may not be not
documented and may not be reproducible:

\codeword{./moose-opt -i input1.i -i input2.i -i input3.i}

\section{Physical units}
\label{chap:patterns-physical-units}

(to be written)

\begin{lstlisting}[language=perl, caption={Physical units in inut files},label={patterns-physical-units}]
    E = ${units 1000E3 kN/m^2 -> MN/m^2}

    # variable holding the pyhsical unit for lengths
    modelunit_length = 'm'
    
    # Umrechnung von 10 mm in die Modelleinheit (m)
    a = ${units 10 mm -> ${modelunit_length}}


    # model units
    modelunit_length = 'm'
    modelunit_time   = 's'
    modelunit_mass = 'kg' # Mg = tons; Gg = kilotons

    # derived units (this may be moved into a !include)
    modelunit_force  = ${raw ${modelunit_mass} * ${modelunit_length} / ${modelunit_time} ^ 2}
    modelunit_pressure = ${raw ${modelunit_force} / ${modelunit_length} ^ 2}
    modelunit_acceleration = ${raw ${modelunit_length} / ${modelunit_time} ^ 2}
    modelunit_density = ${raw ${modelunit_mass} / ${modelunit_length} ^ 3}

\end{lstlisting}